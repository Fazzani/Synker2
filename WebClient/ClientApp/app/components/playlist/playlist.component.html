<div class="site-container">
    <mat-toolbar color="custom">
        <mat-form-field floatPlaceholder="never">
            <input matInput #filter placeholder="Filter medias...">
            <!--<mat-autocomplete #auto="matAutocomplete">
                <mat-option *ngFor="let option of options" [value]="option">
                    {{ option }}
                </mat-option>
            </mat-autocomplete>-->
        </mat-form-field>
        <span class="spacer"></span>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Update" matTooltip="Update" (click)="reload()">update</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Save" matTooltip="Save" (click)="save()">save</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Synchronize" matTooltip="Synchronize" (click)="synk()">autorenew</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Match" matTooltip="Match" (click)="match()">compare_arrows</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Bulk Update" matTooltip="Bulk Update" (click)="openUpdateListDialog()">done</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Match Filtred tvgSites" matTooltip="Match Filtred tvgSites" (click)="matchFiltredTvgSites()">settings_ethernet</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Match tvg" matTooltip="Match tvg specified in medias" (click)="matchTvg()">settings_ethernet</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Mes TvgSites" matTooltip="Mes TvgSites" (click)="openUpdateTvgSite()">style</mat-icon>
        </a>
        <a mat-icon-button> <!-- [routerLink]="['/playlist', playlist.publicId] -->
            <mat-icon class="mat-24" aria-label="Diff with source" matTooltip="Diff with source" (click)="openDiffPlaylist()">compare_arrows</mat-icon>
        </a>
        <a mat-icon-button>
            <mat-icon class="mat-24" aria-label="Select All" matTooltip="Select All" (click)="selectAll()">select_all</mat-icon>
        </a>
        <a mat-icon-button>
            <!-- [routerLink]="['/playlist', playlist.publicId] -->
            <mat-icon class="mat-24" aria-label="Execute Handlers" matTooltip="Execute Handlers" (click)="executeHandlers()">pan_tool</mat-icon>
        </a>
    </mat-toolbar>
    <mat-table #table [dataSource]="dataSource" matSort class="noselect">
        <!-- icon Column -->
        <ng-container matColumnDef="tvg.logo">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Logo </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <img [src]="row.tvg?.logo" class="logo-grid" />
            </mat-cell>
        </ng-container>
        <!-- Name Column -->
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row?.name}} </mat-cell>
        </ng-container>
        <!-- DisplayName Column -->
        <ng-container matColumnDef="displayName">
            <mat-header-cell *matHeaderCellDef mat-sort-header> DisplayName </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row?.displayName}} </mat-cell>
        </ng-container>
        <!-- Lang Column -->
        <ng-container matColumnDef="lang">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Lang </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row?.lang}} </mat-cell>
        </ng-container>
        <!-- Group Column -->
        <ng-container matColumnDef="group">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Group </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row?.group}} </mat-cell>
        </ng-container>

        <!-- tvg.name -->
        <ng-container matColumnDef="tvg.name">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Tvg name </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row?.tvg?.name}} </mat-cell>
        </ng-container>

        <!-- tvg.identify -->
        <ng-container matColumnDef="tvg.tvgIdentify">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Tvg id </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row?.tvg?.tvgIdentify}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <button mat-icon-button color="primary" (click)="openDialog(row)" matTooltip="Edit">
                        <mat-icon class="mat-24" aria-label="Edit">edit</mat-icon>
                      </button>
                <button mat-icon-button color="warn" (click)="delete(row.id)" matTooltip="Remove">
                        <mat-icon class="mat-24" aria-label="">delete</mat-icon>
                      </button>
                <!--<button mat-icon-button color="primary" (click)="addToMediaRef(row)" matTooltip="Add to mediaRef">
                    <mat-icon class="mat-24" aria-label="">add</mat-icon>
                </button>-->
            </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="toggleSelected(row, $event)" [class.active]="row.selected" class="noselect"></mat-row>
    </mat-table>
    <mat-paginator #paginator [pageSizeOptions]="[50, 100, 250, 1000]" [pageSize]="50" class="noselect">
    </mat-paginator>
</div>